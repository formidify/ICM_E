---
title: "EDA"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
merged <- read.csv("~/Desktop/ICM_E/merged.csv")
merged$Conflict.Stock.Displacement[is.na(merged$Conflict.Stock.Displacement)] <- 0
merged$Conflict.New.Displacements[is.na(merged$Conflict.New.Displacements)] <- 0
merged$Disaster.New.Displacements[is.na(merged$Disaster.New.Displacements)] <- 0
merged$displacement <- as.numeric(merged$Conflict.New.Displacements+ merged$Conflict.Stock.Displacement+merged$Disaster.New.Displacements)
merged$GDP <- as.numeric(merged$GDP)

merged_151 <- (na.omit(merged[,c(1:9,11,15:18,31:32,45:47)]))
merged_151$X1 <- NULL
merged_151$fsi <- merged_151$C + merged_151$P+merged_151$S+merged_151$X+merged_151$E
cor_table <- cor(merged_151[,3:19])
cor_table
write.csv(merged_151, "~/Desktop/ICM_E/merged_151.csv")
```


```{r}
model <- lm(fsi ~ GDP + elev + percent_arable_land + prevalence_undernourishment + government_effectiveness + political_stability + Annual_precip + rule_of_law + Annual_temp + voice_and_accountability + displacement,data=merged_151)
summary(model)
qqnorm(resid(model))
qqline(resid(model))
plot(resid(model)~fitted(model))

```

